'use strict';var b=Object,f=Math,g=window,h=document,l=Array,m='addEventListener',n='fpsElement',p='defineProperties',aa='style',q='canvas',r='target',t='call',u='prototype',v='property',ba='constructor',w='position',ca='onUpdate',x='rotation',y='domElement',da='getOwnPropertyDescriptor',ea='remove',z='object3D',A='scale',B='context2d',C='width',D='apply',fa='height',E='length',F='stage',ga='',ia=' ',ja='#000000',ka='#ff0000',la='.',ma='0px',na='2d',oa='Courier',pa='HitTest:',qa='HitTest:false',ra=
'Text',sa='Two.as',ta='Type Coercion failed',ua='absolute',wa='canvas',xa='click',ya='contextmenu',za='dblclick',Aa='div',G='domElement_eventHandler',Ba='fps',Ca='image.jpg',Da='imageOnErrorHandler',Ea='imageOnLoadHandler',Fa='mousedown',Ga='mouseenter',Ha='mouseleave',Ia='mousemove',Ja='mouseout',Ka='mouseover',La='mouseup',Ma='native code',Na='number',Oa='px ',Pa='render',Qa='show',Ra='string',Sa='touchcancel',Ta='touchend',Ua='touchenter',Va='touchleave',Wa='touchmove',Xa='touchstart',Ya='updateHandler',
Za='var ',$a='x';function H(){return function(){}}function I(a){return function(){return this[a]}}var J,ab=this;function bb(a,c,d){return a[t][D](a.bind,arguments)}function cb(a,c,d){if(!a)throw Error();if(2<arguments[E]){var e=l[u].slice[t](arguments,2);return function(){var d=l[u].slice[t](arguments);l[u].unshift[D](d,e);return a[D](c,d)}}return function(){return a[D](c,arguments)}}
function db(a,c,d){db=Function[u].bind&&-1!=Function[u].bind.toString().indexOf(Ma)?bb:cb;return db[D](null,arguments)}function K(a,c){var d=a.split(la),e=ab;d[0]in e||!e.execScript||e.execScript(Za+d[0]);for(var k;d[E]&&(k=d.shift());)d[E]||void 0===c?e=e[k]?e[k]:e[k]={}:e[k]=c}function L(a,c){function d(){}d.prototype=c[u];a.o=c[u];a.prototype=new d;a[u].constructor=a;a.Ya=function(a,d,va){for(var Q=l(arguments[E]-2),ha=2;ha<arguments[E];ha++)Q[ha-2]=arguments[ha];return c[u][d][D](a,Q)}};function M(){}M[u].H=550;M[u].w=400;M[u].da=1;M[u].M=1;b[p](M[u],{stageWidth:{get:I('H'),set:function(a){this.H=a;this.M=this.H/this.w}},stageHeight:{get:I('w'),set:function(a){this.w=a;this.da=2/this.w;this.M=this.H/this.w}},spaceRatio:{get:I('da')},aspectRatio:{get:I('M')},top:{get:function(){return 1}},bottom:{get:function(){return-1}},left:{get:function(){return this.bottom*this.aspectRatio}},height:{get:function(){return this.top*this.aspectRatio}}});M[u].b={names:[{name:'Stage',f:'com.plter.two.app.Stage'}]};function eb(){this.ea=new M}b[p](eb[u],{stage:{get:I('ea')},camera:{get:I('na'),set:function(a){this.na=a}}});eb[u].b={names:[{name:'Context',f:'com.plter.two.app.Context'}]};var N=g.THREE,fb=N.PerspectiveCamera;K('com.plter.two.supports.threejs.THREE.PerspectiveCamera',fb);var gb=N.Scene;K('com.plter.two.supports.threejs.THREE.Scene',gb);var hb=N.WebGLRenderer;K('com.plter.two.supports.threejs.THREE.WebGLRenderer',hb);var ib=N.PointLight;K('com.plter.two.supports.threejs.THREE.PointLight',ib);K('com.plter.two.supports.threejs.THREE.BoxGeometry',N.BoxGeometry);K('com.plter.two.supports.threejs.THREE.MeshLambertMaterial',N.MeshLambertMaterial);var jb=N.Mesh;
K('com.plter.two.supports.threejs.THREE.Mesh',jb);var kb=N.Object3D;K('com.plter.two.supports.threejs.THREE.Object3D',kb);var lb=N.DoubleSide;K('com.plter.two.supports.threejs.THREE.DoubleSide',lb);K('com.plter.two.supports.threejs.THREE.TextureLoader',N.TextureLoader);var mb=N.Texture;K('com.plter.two.supports.threejs.THREE.Texture',mb);var O=N.PlaneGeometry;K('com.plter.two.supports.threejs.THREE.PlaneGeometry',O);var nb=N.MeshBasicMaterial;
K('com.plter.two.supports.threejs.THREE.MeshBasicMaterial',nb);K('com.plter.two.supports.threejs.THREE.Color',N.Color);var ob=N.Vector2;K('com.plter.two.supports.threejs.THREE.Vector2',ob);var pb=N.Raycaster;K('com.plter.two.supports.threejs.THREE.Raycaster',pb);var qb=N.Box3;K('com.plter.two.supports.threejs.THREE.Box3',qb);function P(a,c){this.oa=a;this.ca=c;this.ma=new qb;this.ca.node=this;this.a=a[F].spaceRatio}P[u].F=null;P[u].Ca=function(a,c){var d=this.context;rb.x=a;rb.y=c;sb.setFromCamera(rb,d.camera);return 0<sb.intersectObject(this[z])[E]};P[u].hitTestPoint=P[u].Ca;P[u].ha=function(a){return this.box.intersectsBox(a.box)};P[u].hitTestObject=P[u].ha;var sb=new pb,rb=new ob;
b[p](P[u],{object3D:{get:I('ca')},context:{get:I('oa')},x:{get:function(){return this[w].x},set:function(a){this[w].x=a}},y:{get:function(){return this[w].y},set:function(a){this[w].y=a}},z:{get:function(){return this[w].z},set:function(a){this[w].z=a}},rotationX:{get:function(){return this[x].x},set:function(a){this[x].x=a}},rotationY:{get:function(){return this[x].y},set:function(a){this[x].y=a}},rotationZ:{get:function(){return this[x].z},set:function(a){this[x].z=a}},scaleX:{get:function(){return this[A].x},
set:function(a){this[A].x=a}},scaleY:{get:function(){return this[A].y},set:function(a){this[A].y=a}},position:{get:function(){return this[z][w]}},rotation:{get:function(){return this[z][x]}},scale:{get:function(){return this[z][A]}},xInPixel:{get:function(){return this.x/this.a},set:function(a){this.x=a*this.a}},yInPixel:{get:function(){return this.y/this.a},set:function(a){this.y=a*this.a}},zInPixel:{get:function(){return this.z/this.a},set:function(a){this.z=a*this.a}},name:{get:I('F'),set:function(a){this.F=
a}},visible:{get:function(){return this[z].visible},set:function(a){this[z].visible=a}},transparent:{get:function(){return this[z].material.transparent},set:function(a){this[z].material.transparent=a}},opacity:{get:function(){return this[z].material.opacity},set:function(a){this[z].material.opacity=a}},box:{get:function(){return this.ma.setFromObject(this[z])}}});P[u].b={names:[{name:'TNode',f:'com.plter.two.display.TNode'}]};function R(a){this.A=[];P[t](this,a,new kb)}L(R,P);R[u].J=function(a){this[z].add(a[z])};R[u].addChild=R[u].J;R[u].removeChild=function(a){this[z][ea](a[z])};R[u].removeChild=R[u].removeChild;R[u].Aa=function(a){return this[z].children[a].node};R[u].childAt=R[u].Aa;R[u].Ba=function(a){for(var c=this[z].children,d=c[E],e,k=0;k<d;k++)if(e=c[k].node,e.name&&e.name==a)return e;return null};R[u].childByName=R[u].Ba;
b[p](R[u],{children:{get:function(){for(;this.A[E];)this.A.pop();for(var a=this[z].children,c=a[E],d=0;d<c;d++)this.A.push(a[d].node);return this.A}}});R[u].b={names:[{name:'Container',f:'com.plter.two.display.Container'}]};function tb(a,c){this.F=a;this.qa=c}b[p](tb[u],{name:{get:I('F')},data:{get:I('qa')}});tb[u].b={names:[{name:'Event',f:'com.plter.two.events.Event'}]};function S(){this.i=[]}S[u].add=function(a){this.i.push(a)};S[u].add=S[u].add;S[u].remove=function(a){for(var c=0;c<this.i[E];c++)if(this.i[c]==a){this.i.splice(c,1);break}};S[u].remove=S[u][ea];S[u].K=function(a,c){a='undefined'!==typeof a?a:null;c='undefined'!==typeof c?c:null;for(var d=!0,e=0;e<this.i[E];e++)this.i[e](a,c)||(d=!1);return d};S[u].dispatch=S[u].K;S[u].b={names:[{name:'EventListenerList',f:'com.plter.two.events.EventListenerList'}]};function T(a){this.ua=new S;R[t](this,a)}L(T,R);T[u].update=H();T[u].update=T[u].update;T[u].Ga=H();T[u].onClick=T[u].Ga;T[u].Ha=H();T[u].onContextMenu=T[u].Ha;T[u].Ia=H();T[u].onDoubleClick=T[u].Ia;T[u].Ja=H();T[u].onMouseDown=T[u].Ja;T[u].Ka=H();T[u].onMouseEnter=T[u].Ka;T[u].La=H();T[u].onMouseLeave=T[u].La;T[u].Ma=H();T[u].onMouseMove=T[u].Ma;T[u].Na=H();T[u].onMouseOut=T[u].Na;T[u].Oa=H();T[u].onMouseOver=T[u].Oa;T[u].Pa=H();T[u].onShow=T[u].Pa;T[u].Qa=H();T[u].onTouchCancel=T[u].Qa;
T[u].Ra=H();T[u].onTouchEnd=T[u].Ra;T[u].Sa=H();T[u].onTouchEnter=T[u].Sa;T[u].Ta=H();T[u].onTouchLeave=T[u].Ta;T[u].Ua=H();T[u].onTouchMove=T[u].Ua;T[u].Va=H();T[u].onTouchStart=T[u].Va;T[u].Fa=H();T[u].internal_onUiEvent=T[u].Fa;b[p](T[u],{onUpdate:{get:I('ua')}});T[u].b={names:[{name:'Scene',f:'com.plter.two.display.Scene'}]};function U(a,c,d,e,k,va,Q){Q='undefined'!==typeof Q?Q:null;this.wa=a;this.ya=c;this.va=d;this.u=va;this.X(e,k);this.B=Q}U[u].start=function(){this[r][this[v]]=this.C;this.scene[ca].add(V(this.la,this,Ya))};U[u].start=U[u].start;U[u].reverse=function(){this.X(this.toValue,this.fromValue);return this};U[u].reverse=U[u].reverse;U[u].X=function(a,c){this.C=a;this.T=c;this.xa=(this.T-this.C)/this.frames;this.ra=f.abs(this.T-this.C)};U[u].setFromAndTo=U[u].X;
U[u].la=function(){this[r][this[v]]+=this.xa;f.abs(this[r][this[v]]-this.fromValue)>this.ra&&(this.scene[ca][ea](V(this.la,this,Ya)),this[r][this[v]]=this.toValue,this.B&&this.B(this))};b[p](U[u],{target:{get:I('ya')},property:{get:I('va')},fromValue:{get:I('C')},toValue:{get:I('T')},frames:{get:I('u')},scene:{get:I('wa')},completeHandler:{get:I('B'),set:function(a){this.B=a}}});U[u].b={names:[{name:'PropertyAnim',f:'com.plter.two.anim.PropertyAnim'}]};function W(a,c,d,e,k){c='undefined'!==typeof c?c:256;d='undefined'!==typeof d?d:256;e='undefined'!==typeof e?e:256;k='undefined'!==typeof k?k:256;this.a=a[F].spaceRatio;this.s=ub(h.createElement(wa),HTMLCanvasElement);this.s.width=c;this.s.height=d;this.l=e;this.j=k;this.pa=ub(this.s.getContext(na),CanvasRenderingContext2D);this.ga=new mb(this.s);this.L();c={};c.side=lb;c.map=this.texture;c=new nb(c);c=new jb(new O(this.geometryWidth,this.geometryHeight),c);P[t](this,a,c);this.ga=this.texture}
L(W,P);W[u].Wa=function(a,c){this.W(a/this.a,c/this.a)};W[u].setCanvasSize=W[u].Wa;W[u].W=function(a,c){this[q].width=a;this[q].height=c};W[u].setCanvasSizeInPixel=W[u].W;W[u].V=function(a,c,d,e){this.W(a,c);this.ka(d,e)};W[u].setCanvasSizeAndGeometrySizeInPixel=W[u].V;W[u].ka=function(a,c){if(this.l!=a||this.j!=c)this[z].geometry=new O(a*this.a,c*this.a);this.l=a;this.j=c};W[u].setGeometrySizeInPixel=W[u].ka;W[u].L=function(){this.texture.needsUpdate=!0};W[u].updateTexture=W[u].L;
b[p](W[u],{canvasWidth:{get:function(){return this.canvasWidthInPixel*this.a},set:function(a){this.canvasWidthInPixel=a/this.a}},canvasWidthInPixel:{get:function(){return this[q][C]},set:function(a){this[q].width=a}},canvasHeight:{get:function(){return this.canvasHeightInPixel*this.a},set:function(a){this.canvasHeightInPixel=a/this.a}},canvasHeightInPixel:{get:function(){return this[q][fa]},set:function(a){this[q].height=a}},texture:{get:I('ga')},canvas:{get:I('s')},context2d:{get:I('pa')},geometryWidth:{get:function(){return this.l*
this.a},set:function(a){this.geometryWidthInPixel=f.round(a/this.a)}},geometryHeight:{get:function(){return this.j*this.a},set:function(a){this.geometryHeightInPixel=f.round(a/this.a)}},geometryWidthInPixel:{get:I('l'),set:function(a){a!=this.l&&(this[z].geometry=new O(a*this.a,this.geometryHeight));this.l=a}},geometryHeightInPixel:{get:I('j'),set:function(a){a!=this.j&&(this[z].geometry=new O(this.geometryWidth,a*this.a));this.j=a}}});W[u].b={names:[{name:'Display',f:'com.plter.two.display.Display'}]};function vb(a){return f.pow(2,f.ceil(f.log(a)*f.LOG2E))}K('com.plter.two.tools.MathTool.resetNumberToNearPower2',vb);function X(a,c,d,e,k){c='undefined'!==typeof c?c:ra;d='undefined'!==typeof d?d:12;e='undefined'!==typeof e?e:ja;k='undefined'!==typeof k?k:oa;W[t](this,a);this.$=k;this.aa=d;this.fa=c;this.Z=e;this.m()}L(X,W);X[u].m=function(){var a=this[B];a.font=this.font;a.fillStyle=this.fillStyle;var c=a.measureText(this.text)[C],d=this.fontSize,e=vb(c),k=vb(d);this.V(e,k,c,d);a.clearRect(0,0,e,k);a.save();a.font=this.font;a.fillStyle=this.fillStyle;a[A](e/c,k/d);a.fillText(this.text,0,d);a.restore();this.L()};
X[u].redrawText=X[u].m;b[p](X[u],{text:{get:I('fa'),set:function(a){this.fa=a;this.m()}},fontSize:{get:I('aa'),set:function(a){this.aa=a;this.m()}},fontFamily:{get:I('$'),set:function(a){this.$=a;this.m()}},font:{get:function(){return this.fontSize+Oa+this.fontFamily}},fillStyle:{get:I('Z'),set:function(a){this.Z=a;this.m()}}});X[u].b={names:[{name:'Label',f:'com.plter.two.display.Label'}]};function Y(a){this.ta=new S;this.sa=new S;W[t](this,a)}L(Y,W);Y[u].load=function(a){this.za=a;this.g=new Image;this.g.onload=V(this.Ea,this,Ea);this.g.onerror=V(this.Da,this,Da);this.g.src=a};Y[u].load=Y[u].load;Y[u].Ea=function(){var a=vb(this.g[C]),c=vb(this.g[fa]);this.V(a,c,this.g[C],this.g[fa]);this[B].save();this[B][A](a/this.g[C],c/this.g[fa]);this[B].drawImage(this.g,0,0);this[B].restore();this.L();this.onLoad.K(null,this)};Y[u].Da=function(){this.onError.K(null,this)};
b[p](Y[u],{url:{get:I('za')},onLoad:{get:I('ta')},onError:{get:I('sa')},content:{get:I('g')}});Y[u].b={names:[{name:'Loader',f:'com.plter.two.display.Loader'}]};function wb(a){var c=this;T[t](this,a);this.D=new Y(a);this.D.load(Ca);this.J(this.D);this.D.onLoad.add(function(c,e){e.x=a[F].left+e.geometryWidth/2;e.y=a[F].top-e.geometryHeight/2});this.v=new X(a,sa,48);this.v.y=.5;this.v.transparent=!0;this.J(this.v);this.R=new X(a,qa,32,ka);this.R.y=-.5;this.J(this.R);(new U(this,this.v,$a,-1,1,480,function(a){a.reverse().start()})).start();this[ca].add(function(){c.R.text=pa+c.v.ha(c.D)})}L(wb,T);wb[u].b={names:[{name:'MainScene',f:'com.plter.hittest.MainScene'}]};function xb(){return g.Date.now()}K('com.plter.two.supports.js.Date.now',xb);function Z(a,c){this.ea=new M;a='undefined'!==typeof a?a:550;c='undefined'!==typeof c?c:400;this[F].stageWidth=a;this[F].stageHeight=c;this.camera=new fb(90,a/c,.01,100);this.camera[w].z=1;this.G=new hb({alpha:!0});this.G.setSize(a,c);this.I=new gb;new pb;this[y][m](xa,V(this.c,this,G),!1);this[y][m](ya,V(this.c,this,G),!1);this[y][m](za,V(this.c,this,G),!1);this[y][m](Fa,V(this.c,this,G),!1);this[y][m](Ga,V(this.c,this,G),!1);this[y][m](Ha,V(this.c,this,G),!1);this[y][m](Ia,V(this.c,this,G),!1);
this[y][m](Ja,V(this.c,this,G),!1);this[y][m](Ka,V(this.c,this,G),!1);this[y][m](La,V(this.c,this,G),!1);this[y][m](Qa,V(this.c,this,G),!1);this[y][m](Sa,V(this.c,this,G),!1);this[y][m](Ta,V(this.c,this,G),!1);this[y][m](Ua,V(this.c,this,G),!1);this[y][m](Va,V(this.c,this,G),!1);this[y][m](Wa,V(this.c,this,G),!1);this[y][m](Xa,V(this.c,this,G),!1);var d=new ib(16777215,1,100);d[w].z=1;this.I.add(d);this.ja()}L(Z,eb);J=Z[u];J.S=!1;J.Y=0;J.P=0;J.O=0;J.u=0;J.N=0;
J.Xa=function(a,c){this.G.setSize(a,c);this[F].stageWidth=a;this[F].stageHeight=c};Z[u].setSize=Z[u].Xa;Z[u].ia=function(a){if(this.h)this.I[ea](this.h[z]);this.h=a;this.I.add(this.h[z])};Z[u].presentScene=Z[u].ia;
Z[u].ja=function(){this.O=xb();0<this.P&&(this.N=this.O-this.P);this.P=this.O;this.Y=1E3/this.N;this.showFps&&0==this.u%60&&(this[n].innerHTML=this.Y.toFixed()+Ba);this.h&&(this.h.update(this.N),this.h[ca].K(null,this.h));this.G.render(this.I,this.camera);g.requestAnimationFrame(V(this.ja,this,Pa));this.u++};Z[u].c=H();
b[p](Z[u],{domElement:{get:function(){return this.G[y]}},showFps:{get:I('S'),set:function(a){(this.S=a)?h.body.appendChild(this[n]):h.body.removeChild(this[n])}},frames:{get:I('u')},fpsElement:{get:function(){this.ba||(this.ba=ub(h.createElement(Aa),HTMLDivElement),this[n][aa].position=ua,this[n][aa].left=ma,this[n][aa].top=ma,this[n][aa].color=ja);return this.ba}}});Z[u].b={names:[{name:'Two',f:'com.plter.two.app.Two'}]};function ub(a,c,d){d=void 0!==d?d:!1;c=yb(a,c);if(!c&&d)throw a=TypeError?new TypeError(ta):Error(ta),a;return c?a:null}K('org.apache.flex.utils.Language.as',ub);K('org.apache.flex.utils.Language._int',function(a){return a>>0});
function yb(a,c){var d,e;if(null==a||a&&null==c)return!1;d=function(a){var e;e=a.b.U;for(a=e[E]-1;-1<a;a--)if(e[a]===c||e[a][u].b.U&&d(new e[a]))return!0;return!1};if(c===String&&typeof a===Ra||a instanceof c)return!0;if(typeof a===Ra)return!1;if(typeof a===Na)return c===Number;if(c===l&&l.isArray(a))return!0;if(void 0===a.b)return!1;if(a.b.U&&d(a))return!0;if(e=a[ba].o)for(;e&&e.b;){if(e.b.U&&d(e))return!0;e=e[ba].o}return!1}K('org.apache.flex.utils.Language.is',yb);
K('org.apache.flex.utils.Language.trace',function(a){var c,d=ga;for(c=0;c<arguments[E];c++)0<c&&(d+=ia),d+=arguments[c];c=ab.console;void 0===c&&void 0!==g.console&&(c=g.console);try{c&&c.log&&c.log(d)}catch(e){}});K('org.apache.flex.utils.Language.uint',function(a){return a>>>0});K('org.apache.flex.utils.Language.preincrement',function(a,c){var d=a[c]+1;return a[c]=d});K('org.apache.flex.utils.Language.predecrement',function(a,c){var d=a[c]-1;return a[c]=d});
K('org.apache.flex.utils.Language.postincrement',function(a,c){var d=a[c];a[c]=d+1;return d});K('org.apache.flex.utils.Language.postdecrement',function(a,c){var d=a[c];a[c]=d+1;return d});K('org.apache.flex.utils.Language.superGetter',function(a,c,d){a=a.o;for(var e=b[da](a,d);null==e;)a=a[ba].o,e=b[da](a,d);return e.get[t](c)});K('org.apache.flex.utils.Language.superSetter',function(a,c,d,e){a=a.o;for(var k=b[da](a,d);null==k;)a=a[ba].o,k=b[da](a,d);k.set[D](c,[e])});
function V(a,c,d){if(c.hasOwnProperty(d))return c[d];a=db(a,c);b.defineProperty(c,d,{value:a});return a}K('org.apache.flex.utils.Language.closure',V);function zb(){Z[t](this);this.showFps=!0;h.body.appendChild(this[y]);this.ia(new wb(this))}L(zb,Z);zb[u].b={names:[{name:'Main',f:'Main'}]};K('Main',zb);
//# sourceMappingURL=./Main.js.map